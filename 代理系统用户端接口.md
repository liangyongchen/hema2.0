# 代理系统用户端接口

标签（空格分隔）： 河马代理系统API

---

### 主机地址(BaseUrl)

`http://ip:8080/server`


##用户认证模块

### 获取临时token（已完成）

`GET`

`/api/auth/account/getTempToken`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----


**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
tempToken | 临时token |是| String | 

```json
{
  "code": "00",
  "message": "请求成功",
  "data": {
    "tempToken": "7341a6c041ab4b9fab7476c22c4fda22"
  }
}
```



### 获取图形验证码（已完成）

`GET`

`/api/auth/account/getImgCode`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
codeType | 类型 | Y | int | 0-登录 1-找回密码
tempToken | 临时Token | Y | String |

**Response**

> 图片字节流，有效期120秒，有效次数是1次

### 账号密码登录（已完成）

`POST`

`/api/auth/account/login`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
loginName | 电话号码 | Y | String | 
password | 密码 | Y | String | base64加密
tempToken | 临时token | Y | String | 
code | 验证码 4位  | Y | String |
isSa | 是否是sa  | Y | int | 0 - 不是sa <br> 1 - 是sa

**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
token | token | Y | String | 登录成功时有，有效时间1小时
shop | 门店 | N | String | 
role | 角色 | N | String | 
avatar | 头像 | N | String | 
name | 姓名 | N | String | 
exp | 有效期 | N | int |
errorTimes | 错误次数 | N | int | 
leftTimes | 可再登录次数  | N | int |
salePoints | 销售点  | N | List<SalePoint> | 如果是销售顾问登录会返回这个字段


#### SalePoint
字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
id | 区域id | Y | int | 
district | 镇、县 | Y | String |
province | 省 | Y | String | 
city | 市  | Y | String |
salePointNo | 销售点代码  | Y | String | 
salePointAddress | 销售点地址  | Y | String | 
salePointName | 销售点名称  | Y | String | 


```json
{
  "code": "00",
  "message": "登录成功",
  "data": {
    "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ1bnNhbWUiOjQsImlzcyI6ImhtZHNfYWdlbnQiLCJleHAiOjE1MjI3NTY4NzQsImlhdCI6MTUyMjc1MzI3NH0.UlV2BCf5GiVQ8YjHbHF4k4f4Jej99guPAdcObFaALkI",
    "salePoints": [
      {
        "id": 441917,
        "district": "石龙镇",
        "province": "广东省",
        "city": "东莞市",
        "salePointName": "东莞市石龙东讯通讯器材店",
        "salePointAddress": "东莞市石龙镇西湖四区建行宿舍113号地下",
        "salePointNo": "SHDGSL1001"
      },
      {
        "id": 441926,
        "district": "寮步镇",
        "province": "广东省",
        "city": "东莞市",
        "salePointName": "东莞市寮步顺畅通电器材店（第3分店）",
        "salePointAddress": "东莞市寮步镇寮步社区红荔路8号",
        "salePointNo": "SHDGLB1003"
      }
    ],
    "exp": null,
    "errorTimes": null,
    "leftTimes": null
  }
}

```

### 修改用户密码（已完成）

`POST`

`/api/auth/account/modifyPwd`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
newPwd | 新的密码 | Y | String | base64加密
oldPwd | 原来的密码 | Y | String |base64加密
isSa | 是否是sa  | Y | int | 0 - 不是sa <br> 1 - 是sa

**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----



###首页-首页数据

`POST`

`/api/home/getUserHomeIndexData`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----


**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
paymentMoney | 30日内待偿还金额 | Y |BigDecimal | 
banners | banner视图数据 | Y | [Banner] | 
orderInfo | 订单信息 | N | Order | 

**Banner**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
bannerId | id | Y |int | 
title | 标题 | Y | String | 
imageUrl | 图片链接 | Y | String | 
contentUrl | 内容链接 | Y | String | 

**Order**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
orderId | id | Y |int | 



###首页-待确定订单、订单详情

`POST`

`/api/loanOrder/getUserOrderDetail`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
orderId | 订单id | Y | int | 


**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
orderId | 订单id | Y | int | 
name | 客户姓名 | Y | String | 
phone |手机号码 | Y | String | 
idCard | 身份证号 | Y | String | 
contractNO | 合同编号 | Y | String | 
applicationTime | 申请时间 | Y | String | 
created | 订单生成时间| Y | String | 
orderState | 订单状态 | Y | String | 
productName | 商品名称 | Y | String | 
shop |门店 | Y | String | 
loanMoney | 分期金额 | Y | BigDecimal | 
loanTerm | 分期期数 | Y | int | 
monthPayment | 每月还款| Y | BigDecimal | 
paymentData | 还款日 | Y | String | 


###首页-补充联系人（自己完成）

`POST`

`/api/loanOrder/saveContact`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----


**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----

###账单-我的账单

`POST`

`/api/bill/getBillData`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----


**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
currentBill | 本月账单 |N| Bill |
nextBill | 下月账单 |N| Bill |

**Bill**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
billId | 账单id |Y| int |
dueDate | 账单还款日 |Y| String |
payment| 还款金额 |Y| BigDecimal |
state | 下月账单 |Y| String |
paymentPlan | 还款计划 |Y| [Plan] |

**Plan**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
term | 期数 |Y| String |
dueDate| 到期日 |Y| String |
money | 应还 |Y| BigDecimal |
state | 状态 |Y| String |


###我的-我的分期订单列表

`POST`

`/api/loanOrder/getUserOrderList`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
pageIndex | 页码 | Y | int | 
pageSize | 页面大小 | Y | int |


**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
orderid | 订单id |Y| int | 
name | 客户姓名 |Y| String | 
state | 订单状态 |Y| String | 
productName | 商品名 |Y| String | 
productPrice | 商品价格 |Y| BigDecimal | 
loanMoney | 分期金额 |Y| BigDecimal | 
submitTime | 提单时间 |Y| String | 
timeLength | 审核时长 |Y| String | 


###我的-银行卡-列表

`POST`

`/api/bank/getBankCards`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----


**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
id | 银行卡id| Y | int | 
bank | 银行| Y | String | 
isDefault | 是否默认| Y | bool | 

###我的-银行卡-设为默认

`POST`

`/api/bank/setDefaultCard`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
id | 银行卡id| Y | int | 

**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
```json
{
  "code": "00",
  "message": "设置成功",
  "data": null
}
```



###我的-银行卡-添加

`POST`

`/api/bank/addBankCard`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
name | 姓名 | Y | String | 
cardNo | 卡号 | Y | String |
phone | 手机号码  | Y | String | 


**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----

```json
{
  "code": "00",
  "message": "添加成功",
  "data": null
}
```


###我的-问题反馈 

`POST`

`/api/feedback/addFeedback`

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----
feedback | 反馈内容 | Y | String | 
isSa |是否是sa办单人员 | Y | Bool | 


**Response**

字段 | 描述 | 是否必须 | 数据类型 | 备注
---- | ---- | -------- | -------- | ----

```json
{
  "code": "00",
  "message": "提交成功",
  "data": null
}
```




### END

